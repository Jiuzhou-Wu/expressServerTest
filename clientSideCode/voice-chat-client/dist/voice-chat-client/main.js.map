{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/chat.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"body {\\n    font-family: sans-serif;\\n  }\\n  \\n  canvas {\\n    max-width: 100%;\\n    width: 320px;\\n  }\\n  \\n  video {\\n    max-width: 100%;\\n    width: 320px;\\n  }\\n  \"","module.exports = \"<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{ title }}!\\n  </h1>\\n</div>\\n<h2>Here are some links to help you start: </h2>\\n\\n<div id=\\\"videos\\\">\\n  <video id=\\\"localVideo\\\" autoplay playsinline #localVideo></video>\\n  <video id=\\\"remoteVideo\\\" autoplay playsinline #remoteVideo></video>\\n</div>\\n\\n<div>\\n  <button (click)=\\\"createOrJoin()\\\" [disabled]=\\\"inTheRoom\\\">Create or Join</button>\\n  <button (click)=\\\"hangUp()\\\" [disabled]=\\\"!inTheRoom\\\">Hang Up </button>\\n\\n  <button (click)=\\\"getNumber()\\\">Say Bye</button>\\n</div>\\n\\n<div *ngFor=\\\"let message of messages\\\">\\n  {{message}}\\n</div> \\n\"","import { Component, ViewChild } from '@angular/core';\nimport { ChatService } from './chat.service';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Vocie Chat App Client Side';\n  messages: string[] = [];\n\n  @ViewChild('localVideo') localVideo: any;\n  @ViewChild('remoteVideo') remoteVideo: any;\n  \n  localV: any;\n  remoteV: any;\n\n  localStream: any;\n  remoteStream: any;\n\n  inTheRoom: boolean = false;\n\n  constructor (private chatService: ChatService) {}\n\n  public createOrJoin() {\n    this.chatService.createOrJoin(\"test\");\n    this.getUserMedia();\n  }\n\n  ngOnInit() {\n    this.localV = this.localVideo.nativeElement;\n    this.remoteV = this.remoteVideo.nativeElement;\n\n    this.chatService.getMessages()\n      .subscribe( (message: string) => {\n        this.messages.push(message);\n      });\n\n    this.chatService.localStreamEvent\n    .pipe(filter(v => {\n      return !!v\n    }))\n    .subscribe(event => {\n      this.localStream = event.localStream;\n      this.localV.srcObject = this.localStream;\n    });\n    this.chatService.remoteStreamEvent\n    .pipe(filter(v => {\n      return !!v\n    }))\n    .subscribe(event => {\n      this.remoteStream = event.remoteStream;\n      this.remoteV.srcObject = this.remoteStream;\n    });\n\n    this.chatService.inTheRoom.subscribe( v => this.inTheRoom = v);\n  }\n\n  private getUserMedia() {\n    this.chatService.getUserMedia();\n  }\n\n  public hangUp() {\n    this.chatService.hangUp();\n  }\n\n  public getNumber() {\n    this.chatService.room = 'test';\n    this.chatService.sendMessage('bye');\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ChatService } from './chat.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [ChatService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import * as io from 'socket.io-client';\nimport { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class ChatService {\n    private serverUrl = \"https://rideshark-voice-chat-server.herokuapp.com/\";\n    // private serverUrl = \"http://localhost:3000\";\n    private socket: any;\n\n    private pc: any;\n    // private pcConfig = {\n    //     'iceServers': [{\n    //         'urls': 'stun:stun.l.google.com:19302'\n    //     }]\n    // };\n\n    room: string;\n\n    inTheRoom: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n    isInitiator = false;\n    isStarted = false;\n    isChannelReady = false;\n\n    localStream:any;\n    remoteStream:any;\n\n    localStreamEvent: BehaviorSubject<any> = new BehaviorSubject(undefined);\n    remoteStreamEvent: BehaviorSubject<any> = new BehaviorSubject(undefined);\n\n    constructor() {\n        this.socket = io(this.serverUrl);\n    }\n\n    public createOrJoin(room: string) {\n        this.room = room;\n        this.socket.emit('create or join', room);\n        this.inTheRoom.next(true);\n    }\n\n    public getMessages() : Observable<string> {\n        return Observable.create( (observer) => {\n            this.socket.on('created', (room) => {\n                observer.next('Created room ' + room);\n                this.isInitiator = true;\n              });\n              \n            this.socket.on('full', (room) => {\n                observer.next('Room ' + room + ' is full');\n                this.inTheRoom.next(false);\n              });\n\n            this.socket.on('join',  (room) =>{\n                observer.next('Another peer made a request to join room ' + room);\n                observer.next('This peer is the initiator of room ' + room + '!');\n                this.isChannelReady = true;\n              });\n              \n            this.socket.on('joined', (room) => {\n                observer.next('joined: ' + room);\n                this.isChannelReady = true;\n              });\n            \n            this.socket.on('left', (room) => {\n                observer.next('left: ' + room);\n            })\n\n            this.socket.on('message', (message) => {\n                console.log('CLient received message: ', message);\n                if(message === 'got user media'){\n                    this.maybeStart();\n                } else if(message.type === 'offer') {\n                    if(!this.isInitiator && !this.isStarted) {\n                        this.maybeStart();\n                    }\n                    console.log(this.pc.signalingState);\n                    this.pc.setRemoteDescription(new RTCSessionDescription(message));\n                    this.doAnswer();\n                } else if(message.type === 'answer' && this.isStarted) {\n                    this.pc.setRemoteDescription(new RTCSessionDescription(message));\n                } else if(message.type === 'candidate' && this.isStarted){\n                    let candidate = new RTCIceCandidate({\n                        sdpMLineIndex: message.label,\n                        candidate: message.candidate\n                    });\n                    this.pc.addIceCandidate(candidate);\n                } else if (message === 'bye') {\n                    if(this.isStarted) {\n                        this.handleRemoteHangup();\n                    } else if (this.inTheRoom.value) {\n                        this.handleRemoteDecline();\n                    }\n                }\n            });\n        });\n    }\n\n    sendMessage(message) {\n        console.log(\"Client sending message: \", message);\n        this.socket.emit('message', { \"room\": this.room, \"message\": message});\n    }\n\n    getUserMedia() {\n        navigator.mediaDevices.getUserMedia({\n            audio: true,\n            video: true\n        }).then( (stream: MediaStream) => {\n            this.localStream = stream;\n            this.localStreamEvent.next({\n                localStream: this.localStream\n            })\n            this.sendMessage('got user media');\n            if(this.isInitiator) {\n                this.maybeStart();\n            }\n        }).catch(e => {\n            console.error(e);\n        })\n    }\n\n    maybeStart() {\n        console.log('>>>>>>> maybeStart() ', this.isStarted, this.localStream, this.isChannelReady);\n        if (!this.isStarted && typeof this.localStream !== 'undefined' && this.isChannelReady) {\n            console.log('>>>>>> creating peer connection');\n            this.createPeerConnection();\n            this.pc.addStream(this.localStream);\n            this.isStarted = true;\n            console.log('isInitiator', this.isInitiator);\n            if (this.isInitiator) {\n              this.doCall();\n            }\n        }\n    }\n\n    doCall() {\n        console.log('Sending offer to peer');\n        this.pc.createOffer(this.setLocalAndSendMessage, this.handleCreateOfferError);\n    }\n\n    doAnswer() {\n        console.log('Sending answer to peer.');\n        this.pc.createAnswer().then(\n            this.setLocalAndSendMessage,\n            this.onCreateSessionDescriptionError\n        );\n    }\n\n    createPeerConnection() {\n        console.log('createPeerConnection...');\n        try {\n            this.pc = new RTCPeerConnection(null);\n            this.pc.onicecandidate = this.handleIceCandidate;\n            this.pc.onaddstream = this.handleRemoteStreamAdded;\n            this.pc.onremovestream = this.handleRemoteStreamRemoved;\n            console.log('Created RTCPeerConnnection');\n          } catch (e) {\n            console.log('Failed to create PeerConnection, exception: ' + e.message);\n            alert('Cannot create RTCPeerConnection object.');\n            return;\n          }\n    }\n\n    handleIceCandidate = (event) => {\n        console.log('icecandidate event: ', event);\n        if (event.candidate) {\n            this.sendMessage({\n                type: 'candidate',\n                label: event.candidate.sdpMLineIndex,\n                id: event.candidate.sdpMid,\n                candidate: event.candidate.candidate\n            });\n        } else {\n            console.log('End of candidates.');\n        }\n    }\n\n    handleRemoteStreamAdded = (event) => {\n        console.log('Remote stream added.');\n        this.remoteStream = event.stream;\n        this.remoteStreamEvent.next({\n            remoteStream: this.remoteStream\n        })\n    }\n\n    handleRemoteStreamRemoved(event) {\n        console.log('Remote stream removed. Event: ', event);\n    }\n\n    handleCreateOfferError(event) {\n        console.log('createOffer() error: ', event);\n    }\n\n    onCreateSessionDescriptionError(error) {\n        console.log('Failed to create session description: ' + error.toString());\n    }\n    \n    setLocalAndSendMessage = (sessionDescription) => {\n        this.pc.setLocalDescription(sessionDescription);\n        console.log('setLocalAndSendMessage sending message', sessionDescription);\n        this.sendMessage(sessionDescription);\n    }\n\n    handleRemoteHangup() {\n        console.log('Session terminated.');\n        this.stop();\n        this.stopLocal();\n        this.socket.emit('bye', this.room);\n    }\n\n    handleRemoteDecline() {\n        this.stopLocal();\n        this.sendMessage('bye');\n        this.inTheRoom.next(false);\n        this.isStarted = false;\n        this.pc = null;\n    }\n\n    hangUp() {\n        this.stop();\n        this.stopLocal();\n        this.sendMessage('bye');\n    }\n\n    stopLocal() {\n        let tracks = this.localStream.getTracks();\n        tracks.forEach(track => {\n            track.stop();\n        });\n        this.localStreamEvent.next(null);\n        console.log(this.pc);\n    }\n\n    stop() {\n        this.inTheRoom.next(false);\n        this.isStarted = false;\n        this.pc.close();\n        this.pc = null;\n    }\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */"],"sourceRoot":""}